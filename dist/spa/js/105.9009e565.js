"use strict";(self["webpackChunkvadakkanchery"]=self["webpackChunkvadakkanchery"]||[]).push([[105],{5105:(e,l,a)=>{a.r(l),a.d(l,{default:()=>je});var o=a(3673),s=a(2323);const d={class:"row flex justify-center"},u={class:"col-12 col-md-4"},m={class:"row"},t={class:"col"},n={class:"row q-mt-md"},r={class:"col"},i={class:"row q-mt-sm"},c={class:"col"},p={class:"row q-col-gutter-md"},v={class:"col"},b={class:"col"},_={class:"row q-mt-md"},V={class:"col-auto flex items-center"},q={class:"text-subtitle2 text-grey-8"},h={class:"col"},w={key:0,class:"row"},g={class:"col-6"},y={class:"row q-mt-sm"},L={class:"col"},f={class:"row q-mt-sm"},W={class:"col"},F={class:"row q-mt-sm"},U={class:"col"},D={class:"row q-mt-md"},x={class:"col-auto flex items-center"},k={class:"text-subtitle2 text-grey-8"},A={class:"col"},M={key:1,class:"row"},Y={class:"col-6"},I={class:"row q-mt-sm"},O={class:"col"},Q={class:"col"},z={class:"row q-mt-sm"},Z={class:"col"},B={class:"row q-mt-sm"},C={class:"col"},N={class:"row q-mt-md"},R={class:"col-auto flex items-center"},H={class:"text-subtitle2 text-grey-8"},G={class:"col"},P={class:"text-bold text-h6 text-center"},j={class:"row q-mt-sm"},S={class:"col"},E={class:"row q-mt-sm"},K={class:"col"},T={class:"row q-mt-sm"},J={class:"col"},X={class:"row q-col-gutter-md"},$={class:"col"},ee={class:"col"},le={class:"row q-mt-md"},ae={class:"col-auto flex items-center"},oe={class:"text-subtitle2 text-grey-8"},se={class:"col"},de={key:0,class:"row"},ue={class:"col-6"},me={class:"row q-mt-sm"},te={class:"col"},ne={class:"row q-mt-sm"},re={class:"col"},ie={class:"row q-mt-sm"},ce={class:"col"},pe={class:"row q-mt-md"},ve={class:"col-auto flex items-center"},be={class:"text-subtitle2 text-grey-8"},_e={class:"col"},Ve={key:1,class:"row"},qe={class:"col-6"},he={class:"row q-mt-sm"},we={class:"col"},ge={class:"col"},ye={class:"row q-mt-sm"},Le={class:"col"},fe={class:"row q-mt-sm"},We={class:"col"};function Fe(e,l,a,Fe,Ue,De){const xe=(0,o.up)("q-input"),ke=(0,o.up)("q-option-group"),Ae=(0,o.up)("q-select"),Me=(0,o.up)("q-btn"),Ye=(0,o.up)("q-card-section"),Ie=(0,o.up)("q-card"),Oe=(0,o.up)("q-form"),Qe=(0,o.up)("q-card-actions"),ze=(0,o.up)("q-page");return(0,o.wg)(),(0,o.j4)(ze,{class:"q-pa-sm"},{default:(0,o.w5)((()=>[(0,o._)("div",d,[(0,o._)("div",u,[(0,o.Wm)(Ie,null,{default:(0,o.w5)((()=>[(0,o.Wm)(Ye,null,{default:(0,o.w5)((()=>[(0,o.Wm)(Oe,{ref:"form"},{default:(0,o.w5)((()=>[(0,o._)("div",m,[(0,o._)("div",t,[e.model.parent?((0,o.wg)(),(0,o.j4)(xe,{key:0,label:e.parentLabel,modelValue:e.model.parent.label,"onUpdate:modelValue":l[0]||(l[0]=l=>e.model.parent.label=l),readonly:"",outlined:"",square:"",dense:""},null,8,["label","modelValue"])):(0,o.kq)("",!0)])]),(0,o._)("div",n,[(0,o._)("div",r,[(0,o.Wm)(ke,{modelValue:e.model.male,"onUpdate:modelValue":l[1]||(l[1]=l=>e.model.male=l),options:e.genderOptions,inline:""},null,8,["modelValue","options"])])]),(0,o._)("div",i,[(0,o._)("div",c,[(0,o.Wm)(xe,{label:e.nameLabel,modelValue:e.model.name,"onUpdate:modelValue":l[2]||(l[2]=l=>e.model.name=l),rules:[e=>!!e||"Required"],outlined:"",square:"",dense:""},null,8,["label","modelValue","rules"])])]),(0,o._)("div",p,[(0,o._)("div",v,[(0,o.Wm)(xe,{label:e.dobLabel,mask:"##-##-####",hint:"Format: DD-MM-YYYY",modelValue:e.model.dob,"onUpdate:modelValue":l[3]||(l[3]=l=>e.model.dob=l),outlined:"","lazy-rules":"",square:"",dense:"",rules:[e=>!!e||"Required",e.validDate]},null,8,["label","modelValue","rules"])]),(0,o._)("div",b,[(0,o.Wm)(xe,{readonly:"",label:e.ageLabel,modelValue:e.age,"onUpdate:modelValue":l[4]||(l[4]=l=>e.age=l),outlined:"",square:"",dense:""},null,8,["label","modelValue"])])]),(0,o._)("div",_,[(0,o._)("div",V,[(0,o._)("div",q,(0,s.zw)(e.aliveLabel),1)]),(0,o._)("div",h,[(0,o.Wm)(ke,{modelValue:e.model.alive,"onUpdate:modelValue":l[5]||(l[5]=l=>e.model.alive=l),options:e.aliveOptions,inline:""},null,8,["modelValue","options"])])]),e.model.alive?(0,o.kq)("",!0):((0,o.wg)(),(0,o.iD)("div",w,[(0,o._)("div",g,[(0,o.Wm)(xe,{label:e.dodLabel,mask:"##-##-####",hint:"Format: DD-MM-YYYY",modelValue:e.model.dod,"onUpdate:modelValue":l[6]||(l[6]=l=>e.model.dod=l),outlined:"","lazy-rules":"",square:"",dense:"",rules:[e.validDate]},null,8,["label","modelValue","rules"])])])),(0,o._)("div",y,[(0,o._)("div",L,[(0,o.Wm)(Ae,{options:["A +ve","A -ve","B +ve","B -ve","O +ve","O -ve","AB +ve","AB -ve"],label:e.bloodGroupLabel,rules:[e=>!!e||"Required"],clearable:"",modelValue:e.model.blood_group,"onUpdate:modelValue":l[7]||(l[7]=l=>e.model.blood_group=l),outlined:"",square:"",dense:""},null,8,["label","rules","modelValue"])])]),(0,o._)("div",f,[(0,o._)("div",W,[(0,o.Wm)(xe,{dense:"",outlined:"",square:"",modelValue:e.model.address,"onUpdate:modelValue":l[8]||(l[8]=l=>e.model.address=l),type:"textarea",label:e.addressLabel},null,8,["modelValue","label"])])]),(0,o._)("div",F,[(0,o._)("div",U,[(0,o.Wm)(xe,{dense:"",outlined:"",square:"",modelValue:e.model.temporary_address,"onUpdate:modelValue":l[9]||(l[9]=l=>e.model.temporary_address=l),type:"textarea",label:e.temporaryAddressLabel},null,8,["modelValue","label"])])]),(0,o._)("div",D,[(0,o._)("div",x,[(0,o._)("div",k,(0,s.zw)(e.employedLabel),1)]),(0,o._)("div",A,[(0,o.Wm)(ke,{modelValue:e.model.employed,"onUpdate:modelValue":l[10]||(l[10]=l=>e.model.employed=l),options:e.aliveOptions,inline:""},null,8,["modelValue","options"])])]),e.model.employed?((0,o.wg)(),(0,o.iD)("div",M,[(0,o._)("div",Y,[(0,o.Wm)(xe,{label:e.occupationLabel,modelValue:e.model.occupation,"onUpdate:modelValue":l[11]||(l[11]=l=>e.model.occupation=l),outlined:"","lazy-rules":"",square:"",dense:"",rules:[e=>!!e||"Required"]},null,8,["label","modelValue","rules"])])])):(0,o.kq)("",!0),(0,o._)("div",I,[(0,o._)("div",O,[(0,o.Wm)(xe,{dense:"",outlined:"",square:"",modelValue:e.model.max_qualification,"onUpdate:modelValue":l[12]||(l[12]=l=>e.model.max_qualification=l),label:e.maxQualificationLabel},null,8,["modelValue","label"])])]),((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e.model.phones,((l,a)=>((0,o.wg)(),(0,o.iD)("div",{class:"row q-mt-sm",key:a},[(0,o._)("div",Q,[(0,o.Wm)(xe,{dense:"",outlined:"",square:"",modelValue:e.model.phones[a],"onUpdate:modelValue":l=>e.model.phones[a]=l,modelModifiers:{number:!0},label:e.phoneLabel},null,8,["modelValue","onUpdate:modelValue","label"])])])))),128)),(0,o.Wm)(Me,{class:"q-mt-sm",color:"secondary",label:"Add Phone",onClick:l[13]||(l[13]=l=>e.model.phones.push(""))}),(0,o._)("div",z,[(0,o._)("div",Z,[(0,o.Wm)(xe,{dense:"",outlined:"",square:"",modelValue:e.model.aadhar,"onUpdate:modelValue":l[14]||(l[14]=l=>e.model.aadhar=l),label:e.aadharLabel},null,8,["modelValue","label"])])]),(0,o._)("div",B,[(0,o._)("div",C,[(0,o.Wm)(xe,{dense:"",outlined:"",square:"",modelValue:e.model.email,"onUpdate:modelValue":l[15]||(l[15]=l=>e.model.email=l),label:e.emailLabel},null,8,["modelValue","label"])])]),(0,o._)("div",N,[(0,o._)("div",R,[(0,o._)("div",H,(0,s.zw)(e.isMarriedLabel),1)]),(0,o._)("div",G,[(0,o.Wm)(ke,{"onUpdate:modelValue":[e.onMarried,l[16]||(l[16]=l=>e.model.married=l)],modelValue:e.model.married,options:e.aliveOptions,inline:""},null,8,["onUpdate:modelValue","modelValue","options"])])]),e.model.spouse?((0,o.wg)(),(0,o.j4)(Ie,{key:2,flat:"",class:"bg-blue-1"},{default:(0,o.w5)((()=>[(0,o.Wm)(Ye,null,{default:(0,o.w5)((()=>[(0,o._)("div",P,(0,s.zw)(e.spouseHeader),1)])),_:1}),(0,o.Wm)(Ye,null,{default:(0,o.w5)((()=>[(0,o._)("div",j,[(0,o._)("div",S,[(0,o.Wm)(xe,{label:e.nameLabel,modelValue:e.model.spouse.name,"onUpdate:modelValue":l[17]||(l[17]=l=>e.model.spouse.name=l),rules:[e=>!!e||"Required"],outlined:"",square:"",dense:""},null,8,["label","modelValue","rules"])])]),(0,o._)("div",E,[(0,o._)("div",K,[(0,o.Wm)(xe,{label:e.fathersNameLabel,modelValue:e.model.spouse.fathers_name,"onUpdate:modelValue":l[18]||(l[18]=l=>e.model.spouse.fathers_name=l),rules:[e=>!!e||"Required"],outlined:"",square:"",dense:""},null,8,["label","modelValue","rules"])])]),(0,o._)("div",T,[(0,o._)("div",J,[(0,o.Wm)(xe,{label:e.mothersNameLabel,modelValue:e.model.spouse.mothers_name,"onUpdate:modelValue":l[19]||(l[19]=l=>e.model.spouse.mothers_name=l),rules:[e=>!!e||"Required"],outlined:"",square:"",dense:""},null,8,["label","modelValue","rules"])])]),(0,o._)("div",X,[(0,o._)("div",$,[(0,o.Wm)(xe,{label:e.dobLabel,mask:"##-##-####",hint:"Format: DD-MM-YYYY",modelValue:e.model.spouse.dob,"onUpdate:modelValue":l[20]||(l[20]=l=>e.model.spouse.dob=l),outlined:"","lazy-rules":"",square:"",dense:"",rules:[e=>!!e||"Required",e.validDate]},null,8,["label","modelValue","rules"])]),(0,o._)("div",ee,[(0,o.Wm)(xe,{readonly:"",label:e.ageLabel,modelValue:e.spouseAge,"onUpdate:modelValue":l[21]||(l[21]=l=>e.spouseAge=l),outlined:"",square:"",dense:""},null,8,["label","modelValue"])])]),(0,o._)("div",le,[(0,o._)("div",ae,[(0,o._)("div",oe,(0,s.zw)(e.aliveLabel),1)]),(0,o._)("div",se,[(0,o.Wm)(ke,{modelValue:e.model.spouse.alive,"onUpdate:modelValue":l[22]||(l[22]=l=>e.model.spouse.alive=l),options:e.aliveOptions,inline:""},null,8,["modelValue","options"])])]),e.model.spouse.alive?(0,o.kq)("",!0):((0,o.wg)(),(0,o.iD)("div",de,[(0,o._)("div",ue,[(0,o.Wm)(xe,{label:e.dodLabel,mask:"##-##-####",hint:"Format: DD-MM-YYYY",modelValue:e.model.spouse.dod,"onUpdate:modelValue":l[23]||(l[23]=l=>e.model.spouse.dod=l),outlined:"","lazy-rules":"",square:"",dense:"",rules:[e.validDate]},null,8,["label","modelValue","rules"])])])),(0,o._)("div",me,[(0,o._)("div",te,[(0,o.Wm)(Ae,{options:["A +ve","A -ve","B +ve","B -ve","O +ve","O -ve","AB +ve","AB -ve"],label:e.bloodGroupLabel,clearable:"",rules:[e=>!!e||"Required"],modelValue:e.model.spouse.blood_group,"onUpdate:modelValue":l[24]||(l[24]=l=>e.model.spouse.blood_group=l),outlined:"",square:"",dense:""},null,8,["label","rules","modelValue"])])]),(0,o._)("div",ne,[(0,o._)("div",re,[(0,o.Wm)(xe,{dense:"",outlined:"",square:"",modelValue:e.model.spouse.address,"onUpdate:modelValue":l[25]||(l[25]=l=>e.model.spouse.address=l),type:"textarea",label:e.addressLabel},null,8,["modelValue","label"])])]),(0,o._)("div",ie,[(0,o._)("div",ce,[(0,o.Wm)(xe,{dense:"",outlined:"",square:"",modelValue:e.model.spouse.temporary_address,"onUpdate:modelValue":l[26]||(l[26]=l=>e.model.spouse.temporary_address=l),type:"textarea",label:e.temporaryAddressLabel},null,8,["modelValue","label"])])]),(0,o._)("div",pe,[(0,o._)("div",ve,[(0,o._)("div",be,(0,s.zw)(e.employedLabel),1)]),(0,o._)("div",_e,[(0,o.Wm)(ke,{modelValue:e.model.spouse.employed,"onUpdate:modelValue":l[27]||(l[27]=l=>e.model.spouse.employed=l),options:e.aliveOptions,inline:""},null,8,["modelValue","options"])])]),e.model.spouse.employed?((0,o.wg)(),(0,o.iD)("div",Ve,[(0,o._)("div",qe,[(0,o.Wm)(xe,{label:e.occupationLabel,modelValue:e.model.spouse.occupation,"onUpdate:modelValue":l[28]||(l[28]=l=>e.model.spouse.occupation=l),outlined:"","lazy-rules":"",square:"",dense:"",rules:[e=>!!e||"Required"]},null,8,["label","modelValue","rules"])])])):(0,o.kq)("",!0),(0,o._)("div",he,[(0,o._)("div",we,[(0,o.Wm)(xe,{dense:"",outlined:"",square:"",modelValue:e.model.spouse.max_qualification,"onUpdate:modelValue":l[29]||(l[29]=l=>e.model.spouse.max_qualification=l),label:e.maxQualificationLabel},null,8,["modelValue","label"])])]),((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e.model.spouse.phones,((l,a)=>((0,o.wg)(),(0,o.iD)("div",{class:"row q-mt-sm",key:a},[(0,o._)("div",ge,[(0,o.Wm)(xe,{dense:"",outlined:"",square:"",modelValue:e.model.spouse.phones[a],"onUpdate:modelValue":l=>e.model.spouse.phones[a]=l,modelModifiers:{number:!0},label:e.phoneLabel},null,8,["modelValue","onUpdate:modelValue","label"])])])))),128)),(0,o.Wm)(Me,{class:"q-mt-sm",color:"secondary",label:"Add Phone",onClick:l[30]||(l[30]=l=>e.model.spouse.phones.push(""))}),(0,o._)("div",ye,[(0,o._)("div",Le,[(0,o.Wm)(xe,{dense:"",outlined:"",square:"",modelValue:e.model.spouse.aadhar,"onUpdate:modelValue":l[31]||(l[31]=l=>e.model.spouse.aadhar=l),label:e.aadharLabel},null,8,["modelValue","label"])])]),(0,o._)("div",fe,[(0,o._)("div",We,[(0,o.Wm)(xe,{dense:"",outlined:"",square:"",modelValue:e.model.spouse.email,"onUpdate:modelValue":l[32]||(l[32]=l=>e.model.spouse.email=l),label:e.emailLabel},null,8,["modelValue","label"])])])])),_:1})])),_:1})):(0,o.kq)("",!0)])),_:1},512)])),_:1}),(0,o.Wm)(Qe,null,{default:(0,o.w5)((()=>[(0,o.Wm)(Me,{class:"full-width",color:"primary",label:"Submit",onClick:e.saveFn},null,8,["onClick"])])),_:1})])),_:1})])])])),_:1})}var Ue=a(1959),De=a(556),xe=a(9582),ke=a(8825),Ae=a(1768);const Me=(0,o.aZ)({setup(){const e=(0,ke.Z)(),l=(0,xe.tv)();(0,o.bv)((()=>{a.state.parent?n.value.parent=a.state.parent:l.push("/").catch((e=>console.log(e)))}));const a=(0,De.useStore)(),s=(0,Ue.Fl)((()=>"en"===a.state.lang)),d=(0,Ue.Fl)((()=>s.value?"Name":"പേര്")),u=(0,Ue.Fl)((()=>s.value?"Date of BIrth":"ജനന തീയ്യതി")),m=(0,Ue.Fl)((()=>s.value?"Age":"വയസ്സ്")),t=(0,Ue.Fl)((()=>s.value?"Parents":"രക്ഷിതാക്കൾ")),n=(0,Ue.iH)({name:null,dob:null,parent:null,alive:!0,dod:null,blood_group:null,address:null,temporary_address:null,employed:!1,occupation:null,phones:[""],max_qualification:null,married:!1,male:!0,aadhar:null,email:null,spouse:null}),r=(0,Ue.Fl)((()=>{if(n.value.dob&&c(n.value.dob)){const e=new Date,l=n.value.dob.split("-"),a=new Date(l[1]+"-"+l[0]+"-"+l[2]);let o=e.getFullYear()-a.getFullYear();const s=e.getMonth()-a.getMonth();return(s<0||0===s&&e.getDate()<a.getDate())&&o--,o}return""})),i=(0,Ue.Fl)((()=>{if(n.value.spouse&&n.value.spouse.dob&&c(n.value.spouse.dob)){const e=new Date,l=n.value.spouse.dob.split("-"),a=new Date(l[1]+"-"+l[0]+"-"+l[2]);let o=e.getFullYear()-a.getFullYear();const s=e.getMonth()-a.getMonth();return(s<0||0===s&&e.getDate()<a.getDate())&&o--,o}return""})),c=e=>{if(10!==e.length)return!1;const l=e.split("-");return!![1,2,3,4,5,6,7,8,9,10,11,12].includes(parseInt(l[1]))&&((![1,3,5,7,8,10,12].includes(parseInt(l[1]))||!(parseInt(l[0])>31||parseInt(l[0])<=0))&&((![4,6,9,11].includes(parseInt(l[1]))||!(parseInt(l[0])>30||parseInt(l[0])<=0))&&(!(parseInt(l[0])>29&&2===parseInt(l[1])&&p(parseInt(l[2])))&&!(parseInt(l[0])>28&&2===parseInt(l[1])))))},p=e=>e%4==0&&e%100!=0||e%400==0,v=(0,Ue.iH)(),b=(0,Ue.Fl)((()=>[{label:s.value?"Yes":"ഉണ്ട്",value:!0},{label:s.value?"No":"ഇല്ല",value:!1}])),_=(0,Ue.Fl)((()=>[{label:s.value?"Male":"പുരുഷൻ",value:!0},{label:s.value?"Female":"സ്ത്രീ",value:!1}])),V=(0,Ue.Fl)((()=>s.value?"Is Alive?":"ജീവിച്ചിരിപ്പുണ്ടോ?")),q=(0,Ue.Fl)((()=>s.value?"Date of Death":"മരണപ്പെട്ട തീയ്യതി")),h=(0,Ue.Fl)((()=>s.value?"Blood Group":"രക്ത ഗ്രൂപ്")),w=(0,Ue.Fl)((()=>s.value?"Address":"വിലാസം")),g=(0,Ue.Fl)((()=>s.value?"Temporary Address":"താത്കാലിക വിലാസം")),y=(0,Ue.Fl)((()=>s.value?"Is Employed?":"തൊഴിലുണ്ടോ?")),L=(0,Ue.Fl)((()=>s.value?"Occupation":"തൊഴിൽ")),f=(0,Ue.Fl)((()=>s.value?"Phone No":"ഫോൺ നമ്പർ")),W=(0,Ue.Fl)((()=>s.value?"Highest Qualification":"ഉയർന്ന യോഗ്യത")),F=(0,Ue.Fl)((()=>s.value?"Aadhar Card No":"ആധാർ കാർഡ് നമ്പർ")),U=(0,Ue.Fl)((()=>s.value?"E-Mail Address":"ഇ മെയിൽ വിലാസം")),D=(0,Ue.Fl)((()=>s.value?"Father's Name":"പിതാവിന്റെ പേര്")),x=(0,Ue.Fl)((()=>s.value?"Mother's Name":"മാതാവിന്റെ പേര്")),k=(0,Ue.Fl)((()=>s.value?"Is Married?":n.value.male?"വിവാഹിതനാണോ ?":"വിവാഹിതയാണോ ?")),A=e=>{n.value.spouse=e?{name:null,dob:null,alive:!0,dod:null,blood_group:null,address:null,temporary_address:null,employed:!1,occupation:null,phones:[""],max_qualification:null,married:!1,male:!0,aadhar:null,email:null,fathers_name:null,mothers_name:null}:null},M=(0,Ue.Fl)((()=>n.value.male?s.value?"Wife's Details":"ഭാര്യയുടെ വിവരങ്ങൾ":s.value?"Husband's Details":"ഭർത്താവിന്റെ വിവരങ്ങൾ")),Y=()=>{var o;null===(o=v.value)||void 0===o||o.validate().then((o=>{o&&(e.loading.show(),a.commit("setModel",n.value),Ae.api.post("add",n.value).then((e=>{"success"===e.data.message&&l.replace("/success").catch((e=>console.log(e)))})).catch((e=>console.log(e))).finally((()=>e.loading.hide())))}))};return{form:v,nameLabel:d,dobLabel:u,ageLabel:m,model:n,age:r,validDate:c,parentLabel:t,aliveOptions:b,aliveLabel:V,dodLabel:q,bloodGroupLabel:h,addressLabel:w,temporaryAddressLabel:g,employedLabel:y,occupationLabel:L,phoneLabel:f,maxQualificationLabel:W,aadharLabel:F,emailLabel:U,fathersNameLabel:D,mothersNameLabel:x,genderOptions:_,isMarriedLabel:k,onMarried:A,spouseHeader:M,spouseAge:i,saveFn:Y}}});var Ye=a(4260),Ie=a(4379),Oe=a(151),Qe=a(5589),ze=a(5269),Ze=a(4842),Be=a(8870),Ce=a(2890),Ne=a(8240),Re=a(9367),He=a(7518),Ge=a.n(He);const Pe=(0,Ye.Z)(Me,[["render",Fe]]),je=Pe;Ge()(Me,"components",{QPage:Ie.Z,QCard:Oe.Z,QCardSection:Qe.Z,QForm:ze.Z,QInput:Ze.Z,QOptionGroup:Be.Z,QSelect:Ce.Z,QBtn:Ne.Z,QCardActions:Re.Z})}}]);